(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-607c3332"],{"154b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("router-link",{staticClass:"btn btn-light btn-sm",attrs:{to:"/filemedia"}},[t._v("Kembali")])],1),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"custom-file"},[a("input",{staticClass:"custom-file-input",attrs:{type:"file"},on:{change:t.onFileChange}}),a("label",{staticClass:"custom-file-label"},[t._v(t._s(t.label?t.label:"Pilih File..."))])]),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.isLoading},on:{click:t.uploadFile}},[t._v(" "+t._s(t.isLoading?"Loading..":"Upload")+" ")])])])])]),a("div",{staticClass:"row mt-2"},[t.contentDirectory&&"undefined"!=typeof t.contentDirectory.data?[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"table-responsive-md"},[a("b-table",{ref:"selectableTable",attrs:{striped:"",hover:"",bordered:"",small:"","show-empty":"",fields:t.fields,items:t.contentDirectory.data,selectable:"","selected-variant":"danger"},on:{"row-selected":t.onRowSelected},scopedSlots:t._u([{key:"cell(no)",fn:function(e){return[t._v(" "+t._s((t.page-1)*t.contentDirectory.per_page+e.index+1)+" ")]}},{key:"cell(view)",fn:function(e){return[a("img",{staticClass:"img-thumbnail",staticStyle:{"max-width":"50px"},attrs:{src:t.baseURL+"/storage/"+e.item.dirname+"/"+e.item.filename}})]}},{key:"cell(link)",fn:function(e){return[a("code",[t._v(t._s(t.baseURL+"/storage/"+e.item.dirname+"/"+e.item.filename))])]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{attrs:{variant:"danger",size:"sm",disabled:t.isLoading},on:{click:function(a){return t.removeFilemediaa(e.item.id)}}},[a("i",{staticClass:"flaticon2-trash"}),t._v(" Hapus")])]}}],null,!1,368236783)})],1)]),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[a("b-button",{attrs:{variant:"outline-dark",size:"sm"},on:{click:t.selectAllRows}},[a("i",{staticClass:"flaticon-list-3"}),t._v(" Select all ")]),a("b-button",{attrs:{variant:"outline-dark",size:"sm"},on:{click:t.clearSelected}},[a("i",{staticClass:"flaticon2-reload"}),t._v(" Clear selected ")]),a("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:t.bulkRemove}},[a("i",{staticClass:"flaticon2-trash"}),t._v(" Bulk remove ")])],1),a("p",[a("i",{staticClass:"fa fa-bars"}),t._v(" "),a("b",[t._v(t._s(t.contentDirectory.data.length))]),t._v(" data dari "),a("b",[t._v(t._s(t.contentDirectory.total))]),t._v(" total data")])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"float-right"},[a("b-pagination",{attrs:{size:"sm","total-rows":t.contentDirectory.total,"per-page":t.contentDirectory.per_page},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)])])])]:t._e()],2)]),a("div",{staticClass:"card-footer"})])])])},n=[],s=(a("a15b"),a("d81d"),a("b0c0"),a("96cf"),a("1da1")),c=a("5530"),l=a("2f62"),o=a("cecb"),r={data:function(){return{label:"",image:"",isBusy:!0,fields:[{key:"no",label:"#"},{key:"view",label:"Gambar"},{key:"link",label:"Link"},{key:"actions",label:"Aksi"}],selected:[]}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["c"])(["isLoading","baseURL"])),Object(l["e"])("filemedia",{contentDirectory:function(t){return t.contentFilemedia}})),{},{page:{get:function(){return this.$store.state.filemedia.page},set:function(t){this.$store.commit("filemedia/SET_PAGE",t)}}}),methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])("filemedia",["getContentFilemedia","addFilemedia","removeFilemedia","removeMultipleFilemedia"])),{},{changeData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.$store.commit("LOADING_PAGE",!0),e.next=4,t.getContentFilemedia(t.$route.params.directory_id);case 4:t.$store.commit("LOADING_PAGE",!1),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$store.commit("LOADING_PAGE",!1),t.$bvToast.toast(e.t0.message,Object(o["b"])());case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},onRowSelected:function(t){this.selected=t},selectAllRows:function(){this.$refs.selectableTable.selectAllRows()},clearSelected:function(){this.$refs.selectableTable.clearSelected()},bulkRemove:function(){var t=this;this.$swal({title:"Informasi",text:"Pastikan tidak ada soal yang menggunakan file media yang dipilih!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#c3c3c3",confirmButtonText:"Iya, Lanjutkan!"}).then((function(e){e.value&&t.removeMultipleFilemedia(t.selected.map((function(t){return t.id})).join(",")).then((function(e){t.changeData(),t.selected=[],t.$bvToast.toast("Filemedia berhasil dihapus.",Object(o["c"])())})).catch((function(e){t.$bvToast.toast(e.message,Object(o["b"])())}))}))},removeFilemediaa:function(t){var e=this;this.$swal({title:"Informasi",text:"Pastikan tidak ada soal yang menggunakan file media ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#c3c3c3",confirmButtonText:"Iya, Lanjutkan!"}).then((function(a){a.value&&e.removeFilemedia(t).then((function(t){e.changeData(),e.$bvToast.toast("Filemedia berhasil dihapus.",Object(o["c"])())})).catch((function(t){e.$bvToast.toast(t.message,Object(o["b"])())}))}))},onFileChange:function(t){this.label=t.target.files[0].name,this.image=t.target.files[0]},uploadFile:function(){var t=this,e=new FormData;e.append("directory_id",this.$route.params.directory_id),e.append("image",this.image),this.addFilemedia(e).then((function(){t.changeData(),t.label="",t.image="",t.$bvToast.toast("Filemedia berhasil ditambahkan.",Object(o["c"])())})).catch((function(e){t.$bvToast.toast(e.message,Object(o["b"])())}))}}),created:function(){this.changeData()},watch:{page:function(){this.changeData()},matpels:function(){this.isBusy=!1}}},d=r,u=a("2877"),m=Object(u["a"])(d,i,n,!1,null,null,null);e["default"]=m.exports},a15b:function(t,e,a){"use strict";var i=a("23e7"),n=a("44ad"),s=a("fc6a"),c=a("a640"),l=[].join,o=n!=Object,r=c("join",",");i({target:"Array",proto:!0,forced:o||!r},{join:function(t){return l.call(s(this),void 0===t?",":t)}})},d81d:function(t,e,a){"use strict";var i=a("23e7"),n=a("b727").map,s=a("1dde"),c=a("ae40"),l=s("map"),o=c("map");i({target:"Array",proto:!0,forced:!l||!o},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-607c3332.84f267b2.js.map